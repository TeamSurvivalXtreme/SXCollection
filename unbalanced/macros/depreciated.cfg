# These macros have been replaced, and should no longer be used.
# They are kept for now since many/most maps still use them.
# Remove compleatly once maps have been updated

#define SXC_PLAYER_SIDE SIDE GOLD
  [side]
    side={SIDE}
    team_name=Heroes
    canrecruit=yes
    controller=human
    income=-2
    village_gold=0
    fog=yes
    shroud=yes
    gold={GOLD}
    income_lock=true
    team_lock=true
    [ai]
      passive_leader=no
      #      ai_algorithm=default
      village_value=-34.8
      aggression=0.0
      caution=1.0
      number_of_possible_recruits_to_force_recruit=0.0
    [/ai]
    [modifications]
      [trait]
        id=sx
        name="sx"
        female_name="sx"
        description="Removes all forbidden abilities and attack specials
"
        [effect]
          apply_to=movement
          increase=1
        [/effect]
        {SXC_TRAIT_EFFECTS}
      [/trait]
    [/modifications]
  [/side]
#enddef

#define SXC_TEST_PLAYER_SIDE SIDE GOLD
  [side]
    side={SIDE}
    team_name=1
    canrecruit=yes
    controller=human
    income=-2
    village_gold=0
    fog=no
    shroud=no
    gold={GOLD}
    income_lock=true
    team_lock=true
    [ai]
      passive_leader=no
      #     ai_algorithm=default
      village_value=-34.8
      aggression=0.0
      caution=1.0
    [/ai]
    [modifications]
      [trait]
        id=sx
        name="sx"
        female_name="sx"
        description="Removes all forbidden abilities and attack specials
"
        [effect]
          apply_to=movement
          increase=1
        [/effect]
        {SXC_TRAIT_EFFECTS}
      [/trait]
    [/modifications]
  [/side]
#enddef

#define SXC_ENEMY_WEAPON_MFO
  {SXC_ENEMY_WEAPON_FORCE 5 2}
#enddef

#define SXC_ENEMY_WEAPON_RFO
  {SXC_ENEMY_WEAPON_FORCE_MISSILE 5 2}
#enddef

#define SXC_ENEMY_LEADER_2 X Y TYPE SIDE MP HP MA MD RA RD RES W1 W2 W3 W4
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    canrecruit=yes
    side={SIDE}
    role=big_boss
    generate_name=yes
    unrenamable=yes
    [modifications]
      {TRAIT_FEARLESS}
      [object]
        silent=yes
        duration=forever
        {SXC_ENEMY_WEAPON_{W1}}
        {SXC_ENEMY_WEAPON_{W2}}
        {SXC_ENEMY_WEAPON_{W3}}
        {SXC_ENEMY_WEAPON_{W4}}
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
      [/object]
    [/modifications]
  [/unit]
#enddef

#define SXC_ENEMY_MODIFICATION_2 MP HP MA MD RA RD RES W1 W2 W3 W4
  allow_player=no
  canrecruit=yes
  controller=ai
  disallow_observers=yes
  generate_name=yes
  hidden=yes
  role=big_boss
  team_name=Enemies
  unrenamable=yes
  village_gold=0
  [ai]
    aggression=1.0
    attack_depth=1
    caution=0.0
    grouping=no
    passive_leader=yes
    recruitment_ignore_bad_combat=yes
    recruitment_ignore_bad_movement=yes
    recruitment_pattern=""
    simple_targeting=yes
  [/ai]
  [modifications]
    {TRAIT_FEARLESS}
    [object]
      silent=yes
      duration=forever
      {SXC_ENEMY_WEAPON_{W1}}
      {SXC_ENEMY_WEAPON_{W2}}
      {SXC_ENEMY_WEAPON_{W3}}
      {SXC_ENEMY_WEAPON_{W4}}
      [effect]
        apply_to=movement
        increase={MP}
      [/effect]
      [effect]
        apply_to=hitpoints
        increase={HP}
        increase_total={HP}
      [/effect]
      [effect]
        apply_to=attack
        range=melee
        increase_attacks={MA}
      [/effect]
      [effect]
        apply_to=attack
        range=melee
        increase_damage={MD}
      [/effect]
      [effect]
        apply_to=attack
        range=ranged
        increase_attacks={RA}
      [/effect]
      [effect]
        apply_to=attack
        range=ranged
        increase_damage={RD}
      [/effect]
      [effect]
        apply_to=resistance
        replace=no
        [resistance]
          blade=-{RES}
          pierce=-{RES}
          impact=-{RES}
          fire=-{RES}
          cold=-{RES}
          arcane=-{RES}
        [/resistance]
      [/effect]
      [effect]
        apply_to=movement_costs
        replace=yes
        [movement_costs]
          castle=100
          cave=100
          deep_water=100
          flat=100
          forest=100
          frozen=100
          fungus=100
          hills=100
          impassable=100
          mountains=100
          reef=100
          sand=100
          shallow_water=100
          swamp_water=100
          unwalkable=100
          village=100
        [/movement_costs]
      [/effect]
    [/object]
  [/modifications]
#enddef

#define SXC_ENEMY_SPECIALS_TYPE X Y INDEX SPECIAL RANGE TYPE
  [store_unit]
    [filter]
      x,y={X},{Y}
    [/filter]
    variable=enemyspecs
  [/store_unit]
  [object]
    silent=yes
    duration=forever
    [filter]
      x,y={X},{Y}
    [/filter]
    [effect]
      apply_to=attack
      range={RANGE}
      type={TYPE}
      name=$enemyspecs.attack[{INDEX}].name
      [set_specials]
        mode=append
        {WEAPON_SPECIAL_{SPECIAL}}
      [/set_specials]
    [/effect]
  [/object]
  {CLEAR_VARIABLE enemyspecs}
#enddef

#define SXC_ENEMY_SPECIALS X Y INDEX SPECIAL
  [store_unit]
    [filter]
      x,y={X},{Y}
    [/filter]
    variable=enemyspecs
  [/store_unit]
  [object]
    silent=yes
    duration=forever
    [filter]
      x,y={X},{Y}
    [/filter]
    [effect]
      apply_to=attack
      range=$enemyspecs.attack[{INDEX}].range
      type=$enemyspecs.attack[{INDEX}].type
      name=$enemyspecs.attack[{INDEX}].name
      [set_specials]
        mode=append
        {WEAPON_SPECIAL_{SPECIAL}}
      [/set_specials]
    [/effect]
  [/object]
  {CLEAR_VARIABLE enemyspecs}
#enddef

#define SXC_ENEMY_GOLD_2 AMOUNT X Y TYPE SIDE MP HP MA MD RA RD RES W1 W2 W3 W4
  {VARIABLE_OP units_index add 1}
  {SXC_ENEMY_MB_2 $units_index {X} {Y} {TYPE} {SIDE} {MP} {HP} {MA} {MD} {RA} {RD} {RES} {W1} {W2} {W3} {W4}}
  {VARIABLE mvbindex $moving_bosses.length}
  {VARIABLE moving_bosses[$mvbindex|].id Boss_$units_index}
  {VARIABLE moving_bosses[$mvbindex|].type CHEST_GOLD}
  {VARIABLE moving_bosses[$mvbindex|].amount {AMOUNT}}
  {CLEAR_VARIABLE mvbindex}
#enddef

#define SXC_ENEMY_ITEM_2 ITEM X Y TYPE SIDE MP HP MA MD RA RD RES W1 W2 W3 W4
  {VARIABLE_OP units_index add 1}
  {SXC_ENEMY_MB_2 $units_index {X} {Y} {TYPE} {SIDE} {MP} {HP} {MA} {MD} {RA} {RD} {RES} {W1} {W2} {W3} {W4}}
  {VARIABLE mvbindex $moving_bosses.length}
  {VARIABLE moving_bosses[$mvbindex|].id Boss_$units_index}
  {VARIABLE moving_bosses[$mvbindex|].type {ITEM}}
  {CLEAR_VARIABLE mvbindex}
#enddef

#define SXC_ENEMY_GUARD_TERRAIN_2 X Y TYPE SIDE MP HP MA MD RA RD RES TERRAIN W1 W2 W3 W4
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    side={SIDE}
    role=boss
    {IS_HERO}
    ai_special=guardian
    generate_name=yes
    name=Boss
    unrenamable=yes
    [modifications]
      {TRAIT_FEARLESS}
      {TRAIT_LOYAL}
      [object]
        silent=yes
        duration=forever
        {SXC_ENEMY_WEAPON_{W1}}
        {SXC_ENEMY_WEAPON_{W2}}
        {SXC_ENEMY_WEAPON_{W3}}
        {SXC_ENEMY_WEAPON_{W4}}
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
        [effect]
          apply_to=movement_costs
          replace=yes
          [movement_costs]
            castle=50
            cave=50
            deep_water=50
            flat=50
            forest=50
            frozen=50
            fungus=50
            hills=50
            impassable=50
            mountains=50
            reef=50
            sand=50
            shallow_water=50
            swamp_water=50
            unwalkable=50
            village=50
            {TERRAIN}=1
          [/movement_costs]
        [/effect]
      [/object]
    [/modifications]
  [/unit]
#enddef

#define SXC_ENEMY_GOLD AMOUNT X Y TYPE SIDE MP HP MA MD RA RD RES
  {SXC_ENEMY_MB $units_index {X} {Y} {TYPE} {SIDE} {MP} {HP} {MA} {MD} {RA} {RD} {RES}}
  {VARIABLE mvbindex $moving_bosses.length}
  {VARIABLE moving_bosses[$mvbindex|].id Boss_$units_index}
  {VARIABLE moving_bosses[$mvbindex|].type CHEST_GOLD}
  {VARIABLE moving_bosses[$mvbindex|].amount {AMOUNT}}
  {VARIABLE_OP units_index add 1}
  {CLEAR_VARIABLE mvbindex}
#enddef

#define SXC_ENEMY_ITEM ITEM X Y TYPE SIDE MP HP MA MD RA RD RES
  {SXC_ENEMY_MB $units_index {X} {Y} {TYPE} {SIDE} {MP} {HP} {MA} {MD} {RA} {RD} {RES}}
  {VARIABLE mvbindex $moving_bosses.length}
  {VARIABLE moving_bosses[$mvbindex|].id Boss_$units_index}
  {VARIABLE moving_bosses[$mvbindex|].type {ITEM}}
  {VARIABLE_OP units_index add 1}
  {CLEAR_VARIABLE mvbindex}
#enddef

#define SXC_ENEMY_ARCANE_ITEM ITEM X Y TYPE SIDE MP HP MA MD RA RD RES
  {SXC_ENEMY_ARCANE_MB $units_index {X} {Y} {TYPE} {SIDE} {MP} {HP} {MA} {MD} {RA} {RD} {RES}}
  {VARIABLE mvbindex $moving_bosses.length}
  {VARIABLE moving_bosses[$mvbindex|].id Boss_$units_index}
  {VARIABLE moving_bosses[$mvbindex|].type {ITEM}}
  {VARIABLE_OP units_index add 1}
  {CLEAR_VARIABLE mvbindex}
#enddef

#define SXC_ENEMY_ARCANE_MELEE_ITEM ITEM X Y TYPE SIDE MP HP MA MD RA RD RES
  {SXC_ENEMY_ARCANE_MELEE_MB $units_index {X} {Y} {TYPE} {SIDE} {MP} {HP} {MA} {MD} {RA} {RD} {RES}}
  {VARIABLE mvbindex $moving_bosses.length}
  {VARIABLE moving_bosses[$mvbindex|].id Boss_$units_index}
  {VARIABLE moving_bosses[$mvbindex|].type {ITEM}}
  {VARIABLE_OP units_index add 1}
  {CLEAR_VARIABLE mvbindex}
#enddef

#define SXC_ENEMY_UNDEAD_GOLD AMOUNT X Y TYPE SIDE MP HP MA MD RA RD RES
  {SXC_ENEMY_UNDEAD_MB $units_index {X} {Y} {TYPE} {SIDE} {MP} {HP} {MA} {MD} {RA} {RD} {RES}}
  {VARIABLE mvbindex $moving_bosses.length}
  {VARIABLE moving_bosses[$mvbindex|].id Boss_$units_index}
  {VARIABLE moving_bosses[$mvbindex|].type CHEST_GOLD}
  {VARIABLE moving_bosses[$mvbindex|].amount {AMOUNT}}
  {VARIABLE_OP units_index add 1}
  {CLEAR_VARIABLE mvbindex}
#enddef

#define SXC_ENEMY_UNDEAD_ITEM ITEM X Y TYPE SIDE MP HP MA MD RA RD RES
  {SXC_ENEMY_UNDEAD_MB $units_index {X} {Y} {TYPE} {SIDE} {MP} {HP} {MA} {MD} {RA} {RD} {RES}}
  {VARIABLE mvbindex $moving_bosses.length}
  {VARIABLE moving_bosses[$mvbindex|].id Boss_$units_index}
  {VARIABLE moving_bosses[$mvbindex|].type {ITEM}}
  {VARIABLE_OP units_index add 1}
  {CLEAR_VARIABLE mvbindex}
#enddef

#define SXC_ENEMY_WEAPON_FORCE DAM SRK
      [effect]
      apply_to=new_attack
      name= _ "Force Blade"
      icon=attacks/sword-human.png
      type=force
      range=melee
      damage={DAM}
      number={SRK}
        [/effect]
        [effect]
      apply_to=new_animation
      [attack_anim]
          [attack_filter]
              name=_ "Force Blade"
          [/attack_filter]
      hits=no
      [frame]
        begin=-200
        end=-150
      [/frame]
      [frame]
        begin=-150
        end=100
        sound={SOUND_LIST:MISS}
      [/frame]
      [frame]
        begin=100
        end=200
      [/frame]
      [/attack_anim]
        [/effect]
        [effect]
      apply_to=new_animation
      [attack_anim]
          [attack_filter]
              name=_ "Force Blade"
          [/attack_filter]
      hits=yes
      [frame]
        begin=-200
        end=-150
      [/frame]
      [frame]
        begin=-150
        end=100
        sound={SOUND_LIST:SWORD_SWISH}
      [/frame]
      [frame]
        begin=100
        end=200
      [/frame]
      [/attack_anim]
      [/effect]
#enddef


#define SXC_ENEMY_WEAPON_FORCE_MISSILE DAM SRK
      [effect]
      apply_to=new_attack
      name= _ "Force Projectile"
      icon=attacks/sling.png
      type=force
      range=ranged
      damage={DAM}
      number={SRK}
      [/effect]
      [effect]
    apply_to=new_animation
    [attack_anim]
        [attack_filter]
            name=_ "Force Projectile"
        [/attack_filter]
      hits=no
      [missile_frame]
        begin=-150
        end=0
        image="projectiles/stone.png"
        image_diagonal="projectiles/stone.png"
      [/missile_frame]
      [frame]
        begin=-400
        end=-100
        sound=sling-miss.ogg
      [/frame]
      [frame]
        begin=-100
        end=50
      [/frame]
    [/attack_anim]
      [/effect]
      [effect]
    apply_to=new_animation
    [attack_anim]
        [attack_filter]
            name=_ "Force Projectile"
        [/attack_filter]
      hits=yes
      [missile_frame]
        begin=-150
        end=0
        image="projectiles/stone.png"
        image_diagonal="projectiles/stone.png"
      [/missile_frame]
      [frame]
        begin=-400
        end=-100
        sound=sling.ogg
      [/frame]
      [frame]
        begin=-100
        end=50
      [/frame]
    [/attack_anim]
      [/effect]
#enddef

#define SXC_ENEMY_ROAM_2 X Y TYPE SIDE MP HP MA MD RA RD RES W1 W2 W3 W4
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    side={SIDE}
    role=boss
    {IS_HERO}
    generate_name=yes
    name=Boss
    unrenamable=yes
    [modifications]
      {TRAIT_FEARLESS}
      {TRAIT_LOYAL}
      [object]
        silent=yes
        duration=forever
        {SXC_ENEMY_WEAPON_{W1}}
        {SXC_ENEMY_WEAPON_{W2}}
        {SXC_ENEMY_WEAPON_{W3}}
        {SXC_ENEMY_WEAPON_{W4}}
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
      [/object]
    [/modifications]
  [/unit]
#enddef

#define SXC_ENEMY_GUARD_2 X Y TYPE SIDE MP HP MA MD RA RD RES W1 W2 W3 W4
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    side={SIDE}
    role=boss
    {IS_HERO}
    ai_special=guardian
    generate_name=yes
    name=Boss
    unrenamable=yes
    [modifications]
      {TRAIT_FEARLESS}
      {TRAIT_LOYAL}
      [object]
        silent=yes
        duration=forever
        {SXC_ENEMY_WEAPON_{W1}}
        {SXC_ENEMY_WEAPON_{W2}}
        {SXC_ENEMY_WEAPON_{W3}}
        {SXC_ENEMY_WEAPON_{W4}}
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
        [effect]
          apply_to=movement_costs
          replace=yes
          [movement_costs]
            castle=2
            cave=2
            deep_water=4
            flat=2
            forest=2
            frozen=4
            fungus=2
            hills=2
            impassable=100
            mountains=4
            reef=4
            sand=2
            shallow_water=2
            swamp_water=2
            unwalkable=4
            village=2
          [/movement_costs]
        [/effect]
      [/object]
    [/modifications]
  [/unit]
#enddef

#define SXC_SHOP X Y
  {SXC_ITEM {X} {Y} "SHOP" "scenery/signpost.png" ""}
  {VARIABLE shopxs $shopxs|,{X}}
  {VARIABLE shopys $shopys|,{Y}}

  [event]
    name=side turn
    first_time_only=no
    [label]
      x={X}
      y={Y}
      text="{X},{Y}"
    [/label]
    [label]
      x={X}
      y={Y}
      text="Shop"
    [/label]
  [/event]
#enddef

#define SXC_ENEMY_UNDEAD_MB ID X Y TYPE SIDE MP HP MA MD RA RD RES
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    side={SIDE}
    role=boss
    {IS_HERO}
    id=Boss_{ID}
    name=Boss
    unrenamable=yes
    [modifications]
      {TRAIT_UNDEAD}
      {TRAIT_FEARLESS}
      {TRAIT_LOYAL}
      [object]
        silent=yes
        duration=forever
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
      [/object]
    [/modifications]
  [/unit]
#enddef

#define SXC_ENEMY_MB ID X Y TYPE SIDE MP HP MA MD RA RD RES
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    side={SIDE}
    role=boss
    {IS_HERO}
    id=Boss_{ID}
    name=Boss
    unrenamable=yes
    [modifications]
      {TRAIT_FEARLESS}
      {TRAIT_LOYAL}
      [object]
        silent=yes
        duration=forever
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
      [/object]
    [/modifications]
  [/unit]
#enddef

#define SXC_ENEMY_LEADER X Y TYPE SIDE MP HP MA MD RA RD RES
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    canrecruit=yes
    side={SIDE}
    role=boss
    generate_name=yes
    unrenamable=yes
    [modifications]
      {TRAIT_FEARLESS}
      {TRAIT_LOYAL}
      [object]
        silent=yes
        duration=forever
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
      [/object]
    [/modifications]
  [/unit]
#enddef

#define SXC_ENEMY_UNDEAD_GUARD X Y TYPE SIDE MP HP MA MD RA RD RES
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    side={SIDE}
    role=boss
    {IS_HERO}
    ai_special=guardian
    generate_name=yes
    name=Boss
    unrenamable=yes
    [modifications]
      {TRAIT_UNDEAD}
      {TRAIT_FEARLESS}
      {TRAIT_LOYAL}
      [object]
        silent=yes
        duration=forever
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
        [effect]
          apply_to=movement_costs
          replace=yes
          [movement_costs]
            castle=2
            cave=2
            deep_water=4
            flat=2
            forest=2
            frozen=4
            fungus=2
            hills=2
            impassable=100
            mountains=4
            reef=4
            sand=2
            shallow_water=2
            swamp_water=2
            unwalkable=4
            village=2
          [/movement_costs]
        [/effect]
      [/object]
    [/modifications]
  [/unit]
#enddef

#define SXC_ENEMY_GUARD_TERRAIN X Y TYPE SIDE MP HP MA MD RA RD RES TERRAIN
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    side={SIDE}
    role=boss
    {IS_HERO}
    ai_special=guardian
    generate_name=yes
    name=Boss
    unrenamable=yes
    [modifications]
      {TRAIT_FEARLESS}
      {TRAIT_LOYAL}
      [object]
        silent=yes
        duration=forever
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
        [effect]
          apply_to=movement_costs
          replace=yes
          [movement_costs]
            castle=100
            cave=100
            deep_water=100
            flat=100
            forest=100
            frozen=100
            fungus=100
            hills=100
            impassable=100
            mountains=100
            reef=100
            sand=100
            shallow_water=100
            swamp_water=100
            unwalkable=100
            village=100
{TERRAIN}=1
          [/movement_costs]
        [/effect]
      [/object]
    [/modifications]
  [/unit]
#enddef

#define SXC_ENEMY_GUARD X Y TYPE SIDE MP HP MA MD RA RD RES
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    side={SIDE}
    role=boss
    {IS_HERO}
    ai_special=guardian
    generate_name=yes
    name=Boss
    unrenamable=yes
    [modifications]
      {TRAIT_FEARLESS}
      {TRAIT_LOYAL}
      [object]
        silent=yes
        duration=forever
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
        [effect]
          apply_to=movement_costs
          replace=yes
          [movement_costs]
            castle=2
            cave=2
            deep_water=4
            flat=2
            forest=2
            frozen=4
            fungus=2
            hills=2
            impassable=100
            mountains=4
            reef=4
            sand=2
            shallow_water=2
            swamp_water=2
            unwalkable=4
            village=2
          [/movement_costs]
        [/effect]
      [/object]
    [/modifications]
  [/unit]
#enddef

#define SXC_ENEMY_ROAM X Y TYPE SIDE MP HP MA MD RA RD RES
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    side={SIDE}
    role=boss
    {IS_HERO}
    generate_name=yes
    name=Boss
    unrenamable=yes
    [modifications]
      {TRAIT_FEARLESS}
      {TRAIT_LOYAL}
      [object]
        silent=yes
        duration=forever
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
      [/object]
    [/modifications]
  [/unit]
#enddef

#define SXC_ENEMY_MODIFICATION MP HP MA MD RA RD RES
  role=boss
  [modifications]
    {TRAIT_FEARLESS}
    {TRAIT_LOYAL}
    [object]
      silent=yes
      duration=forever
      [effect]
        apply_to=movement
        increase={MP}
      [/effect]
      [effect]
        apply_to=hitpoints
        increase={HP}
        increase_total={HP}
      [/effect]
      [effect]
        apply_to=attack
        range=melee
        increase_attacks={MA}
      [/effect]
      [effect]
        apply_to=attack
        range=melee
        increase_damage={MD}
      [/effect]
      [effect]
        apply_to=attack
        range=ranged
        increase_attacks={RA}
      [/effect]
      [effect]
        apply_to=attack
        range=ranged
        increase_damage={RD}
      [/effect]
      [effect]
        apply_to=resistance
        replace=no
        [resistance]
          blade=-{RES}
          pierce=-{RES}
          impact=-{RES}
          fire=-{RES}
          cold=-{RES}
          arcane=-{RES}
        [/resistance]
      [/effect]
      [effect]
        apply_to=movement_costs
        replace=yes
        [movement_costs]
          castle=100
          cave=100
          deep_water=100
          flat=100
          forest=100
          frozen=100
          fungus=100
          hills=100
          impassable=100
          mountains=100
          reef=100
          sand=100
          shallow_water=100
          swamp_water=100
          unwalkable=100
          village=100
        [/movement_costs]
      [/effect]
    [/object]
  [/modifications]
#enddef

#define SXC_ENEMY_GUARD_CASTLE X Y TYPE SIDE MP HP MA MD RA RD RES
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    side={SIDE}
    role=boss
    {IS_HERO}
    ai_special=guardian
    generate_name=yes
    name=Boss
    unrenamable=yes
    [modifications]
      {TRAIT_FEARLESS}
      {TRAIT_LOYAL}
      [object]
        silent=yes
        duration=forever
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
        [effect]
          apply_to=movement_costs
          replace=yes
          [movement_costs]
            castle=1
            cave=100
            deep_water=100
            flat=100
            forest=100
            frozen=100
            fungus=100
            hills=100
            impassable=100
            mountains=100
            reef=100
            sand=100
            shallow_water=100
            swamp_water=100
            unwalkable=100
            village=100
          [/movement_costs]
        [/effect]
      [/object]
    [/modifications]
  [/unit]
#enddef


#define SXC_ENEMY_GUARD_ROAD X Y TYPE SIDE MP HP MA MD RA RD RES
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    side={SIDE}
    role=boss
    {IS_HERO}
    ai_special=guardian
    generate_name=yes
    name=Boss
    unrenamable=yes
    [modifications]
      {TRAIT_FEARLESS}
      {TRAIT_LOYAL}
      [object]
        silent=yes
        duration=forever
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
        [effect]
          apply_to=movement_costs
          replace=yes
          [movement_costs]
            castle=100
            cave=100
            deep_water=100
            flat=1
            forest=100
            frozen=100
            fungus=100
            hills=1
            impassable=100
            mountains=100
            reef=100
            sand=100
            shallow_water=100
            swamp_water=100
            unwalkable=100
            village=100
          [/movement_costs]
        [/effect]
      [/object]
    [/modifications]
  [/unit]
#enddef

#define SXC_ENEMY_GUARD_ROAD_2 X Y TYPE SIDE MP HP MA MD RA RD RES W1 W2 W3 W4
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    side={SIDE}
    role=boss
    {IS_HERO}
    ai_special=guardian
    generate_name=yes
    name=Boss
    unrenamable=yes
    [modifications]
      {TRAIT_FEARLESS}
      {TRAIT_LOYAL}
      [object]
        silent=yes
        duration=forever
        {SXC_ENEMY_WEAPON_{W1}}
        {SXC_ENEMY_WEAPON_{W2}}
        {SXC_ENEMY_WEAPON_{W3}}
        {SXC_ENEMY_WEAPON_{W4}}
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
        [effect]
          apply_to=movement_costs
          replace=yes
          [movement_costs]
            castle=100
            cave=100
            deep_water=100
            flat=1
            forest=100
            frozen=100
            fungus=100
            hills=100
            impassable=100
            mountains=100
            reef=100
            sand=100
            shallow_water=100
            swamp_water=100
            unwalkable=100
            village=100
          [/movement_costs]
        [/effect]
      [/object]
    [/modifications]
  [/unit]
#enddef




#define SXC_ENEMY_GUARD_CAVE X Y TYPE SIDE MP HP MA MD RA RD RES
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    side={SIDE}
    role=boss
    {IS_HERO}
    ai_special=guardian
    generate_name=yes
    name=Boss
    unrenamable=yes
    [modifications]
      {TRAIT_FEARLESS}
      {TRAIT_LOYAL}
      [object]
        silent=yes
        duration=forever
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
        [effect]
          apply_to=movement_costs
          replace=yes
          [movement_costs]
            castle=100
            cave=1
            deep_water=100
            flat=100
            forest=100
            frozen=100
            fungus=1
            hills=1
            impassable=100
            mountains=100
            reef=100
            sand=100
            shallow_water=100
            swamp_water=100
            unwalkable=100
            village=100
          [/movement_costs]
        [/effect]
      [/object]
    [/modifications]
  [/unit]
#enddef

#define SXC_ENEMY_GUARD_WOOD X Y TYPE SIDE MP HP MA MD RA RD RES
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    side={SIDE}
    role=boss
    {IS_HERO}
    ai_special=guardian
    generate_name=yes
    name=Boss
    unrenamable=yes
    [modifications]
      {TRAIT_FEARLESS}
      {TRAIT_LOYAL}
      [object]
        silent=yes
        duration=forever
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
        [effect]
          apply_to=movement_costs
          replace=yes
          [movement_costs]
            castle=100
            cave=100
            deep_water=100
            flat=100
            forest=1
            frozen=100
            fungus=100
            hills=100
            impassable=100
            mountains=100
            reef=100
            sand=100
            shallow_water=100
            swamp_water=100
            unwalkable=100
            village=100
          [/movement_costs]
        [/effect]
      [/object]
    [/modifications]
  [/unit]
#enddef

#define SXC_ENEMY_GUARD_WATER X Y TYPE SIDE MP HP MA MD RA RD RES
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    side={SIDE}
    role=boss
    {IS_HERO}
    ai_special=guardian
    generate_name=yes
    name=Boss
    unrenamable=yes
    [modifications]
      {TRAIT_FEARLESS}
      {TRAIT_LOYAL}
      [object]
        silent=yes
        duration=forever
        [effect]
          apply_to=new_ability
          [abilities]
            {ABILITY_SUBMERGE}
          [/abilities]
        [/effect]
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
        [effect]
          apply_to=movement_costs
          replace=yes
          [movement_costs]
            castle=100
            cave=100
            deep_water=1
            flat=100
            forest=100
            frozen=100
            fungus=100
            hills=100
            impassable=100
            mountains=100
            reef=2
            sand=100
            shallow_water=1
            swamp_water=1
            unwalkable=100
            village=100
          [/movement_costs]
        [/effect]
      [/object]
    [/modifications]
  [/unit]
#enddef


#define SXC_ENEMY_GUARD_CASTLE_2 X Y TYPE SIDE MP HP MA MD RA RD RES W1 W2 W3 W4
  [unit]
    x={X}
    y={Y}
    type={TYPE}
    side={SIDE}
    role=boss
    {IS_HERO}
    ai_special=guardian
    generate_name=yes
    name=Boss
    unrenamable=yes
    [modifications]
      {TRAIT_FEARLESS}
      {TRAIT_LOYAL}
      [object]
        silent=yes
        duration=forever
        {SXC_ENEMY_WEAPON_{W1}}
        {SXC_ENEMY_WEAPON_{W2}}
        {SXC_ENEMY_WEAPON_{W3}}
        {SXC_ENEMY_WEAPON_{W4}}
        [effect]
          apply_to=movement
          increase={MP}
        [/effect]
        [effect]
          apply_to=hitpoints
          increase={HP}
          increase_total={HP}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_attacks={MA}
        [/effect]
        [effect]
          apply_to=attack
          range=melee
          increase_damage={MD}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_attacks={RA}
        [/effect]
        [effect]
          apply_to=attack
          range=ranged
          increase_damage={RD}
        [/effect]
        [effect]
          apply_to=resistance
          replace=no
          [resistance]
            blade=-{RES}
            pierce=-{RES}
            impact=-{RES}
            fire=-{RES}
            cold=-{RES}
            arcane=-{RES}
          [/resistance]
        [/effect]
        [effect]
          apply_to=movement_costs
          replace=yes
          [movement_costs]
            castle=1
            cave=100
            deep_water=100
            flat=100
            forest=100
            frozen=100
            fungus=100
            hills=100
            impassable=100
            mountains=100
            reef=100
            sand=100
            shallow_water=100
            swamp_water=100
            unwalkable=100
            village=100
          [/movement_costs]
        [/effect]
      [/object]
    [/modifications]
  [/unit]
#enddef

#define SXC_KILL_ENEMY_BONUS X Y SIDE AMOUNT
  {VARIABLE sxkeb_{X}_{Y}_{SIDE} 0}

  [event]
    name=die
    first_time_only=no
    [filter]
      x={X}
      y={Y}
    [/filter]
    [if]
      {SXC_CMP sxkeb_{X}_{Y}_{SIDE} numerical_equals 0}
      [then]
        [store_unit]
          [filter]
            side={SIDE}
            canrecruit=yes
          [/filter]
          variable=leader
        [/store_unit]
        [unstore_unit]
          variable=leader
          text="{AMOUNT}"
          red,green,blue=255,64,64
        [/unstore_unit]
        [gold]
          side={SIDE}
          amount={AMOUNT}
        [/gold]
        {VARIABLE sxkeb_{X}_{Y}_{SIDE} 1}
      [/then]
    [/if]
  [/event]
#enddef

